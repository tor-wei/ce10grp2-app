# Global configuration
global:
  aws:
    accountId: "255945442255" # <-- VARIABLE
    region: "ap-southeast-1" # <-- VARIABLE
  imagePullSecrets:
    - name: ecr-credentials

# API Service Configuration
api:
  enabled: true
  replicaCount: 2
  image:
    repository: "ce10grp2-app/api"
    tag: latest
    pullPolicy: IfNotPresent

  service:
    type: ClusterIP
    port: 80
    targetPort: 3000

  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 250m
      memory: 256Mi

  env:
    NODE_ENV: production
    PORT: "3000"

# Frontend Service Configuration
frontend:
  enabled: true
  replicaCount: 2
  image:
    repository: "ce10grp2-app/frontend"
    tag: latest
    pullPolicy: IfNotPresent

  service:
    type: ClusterIP
    port: 80
    targetPort: 80

  resources:
    limits:
      cpu: 200m
      memory: 256Mi
    requests:
      cpu: 100m
      memory: 128Mi

# Ingress Configuration
ingress:
  enabled: true
  className: alb
  annotations:
    alb.ingress.kubernetes.io/scheme: internet-facing
    alb.ingress.kubernetes.io/target-type: ip
  hosts:
    - paths:
        - path: /api
          pathType: Prefix
          service: api
        - path: /frontend
          pathType: Prefix
          service: frontend
